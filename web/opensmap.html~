<HTML>

<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
<link rel="stylesheet" href="mapStyle.css"/>
<script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>

<div id="map"></div>

<script>
var map = L.map('map').setView([31.7, -98.99], 13);

L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png?layers=T', {
             attribution: 'Map data &copy; [...]',
             maxZoom: 18
}).addTo(map);


console.log("Reading JSON Object");
//Get JSON coord objs
$.ajaxSetup(
    { beforeSend: function(xhr) {
       if(xhr.overrideMimeType) {
            console.log("Prep Work");
            xhr.overrideMimeType("application/json");
            }

     }
});


$.getJSON("example_1024_2.json", function(data) {
   data.coords.forEach(function(d) {
        console.log(d.lat + "," + d.long);
        var marker = L.marker([d.lat, d.long]).addTo(map);
        marker.on("click", function(d) {
          console.log(marker);
         });
    });
});

var marker = L.marker([39.0394,-94.8071]).addTo(map);
//L.marker([35.488, -101.060]).addTo(map);



</script>

<HTML>
